{% extends "base.html" %}
{% load staticfiles %}
{% load menu_extras %}
<script type="text/javascript" src="{% static 'menu/js/jquery-1.11.3.js' %}"></script>
<script type="text/javascript" src="{% static 'menu/js/menu.js' %}"></script>

<html>
<head>
<title>
    {% block head_title %}
        {{ recipe.name }} - Edit
    {% endblock %}
</title>
</head>
<body>
{% block content %}


<h2>Edit Recipe Details</h2>

<div class="">
    <form method="POST" action="">
        {% csrf_token %}
        {{ ingredient_form.id }}
        {{ ingredient_form.name }}<br>
        {{ ingredient_form.amount }}<br>
        {{ ingredient_form.unit }}<br>
        {{ ingredient_form.comment }}
        <p>
            <input class="btn" type="submit" value="+" id="submit"/>
        </p>
    </form>
</div>
<hr>

<div class="ingredients">
    {% for ingredient in recipe.ingredient_set.all %}
        <p>
            <!--{% if user.is_superuser %}-->
                <!--<input type="checkbox" value={{ingredient.amount}} id={{ingredient.id}} name={{ingredient.id}}>-->
            <!--{% endif %}-->
            {{ ingredient.amount|show_integer }}{{ ingredient.amount|show_fraction }}
            {{ ingredient.unit }}
            {{ ingredient.name }}{% if ingredient.comment %}, {{ ingredient.comment }}
            {% endif %}
            <a class="btn" href="{% url 'menu:edit_ingredient' ingredient.id %}">&#x270D;</a>
            <!-- add view to handle up/down ordering; up = find min larger then swap; down = find max smaller then swap -->
            <a class="btn" href="{% url 'menu:move_ingredient_up' ingredient.id %}">&#x25B2;</a>
            <a class="btn" href="{% url 'menu:move_ingredient_down' ingredient.id %}">&#x25BC;</a>
        </p>
    {% endfor %}
</div>
<div style="clear:both;"></div>

<form method="POST" action="" name="recipe_form" class="form">
    {% csrf_token %}
    Name<br>{{ form.name }}<br><br>
    Description<br>{{ form.description }}<br><br>
    Pin: {{ form.pinned }}<br><br>
    Method<br>{{ form.cook_method }}<br><br>
    Dish Type<br>{{ form.dish_type }}<br><br>
    Temperature<br>{{ form.temperature }}<br><br>
    Prep Time (minutes)<br>{{ form.prep_time }}<br><br>
    Cook Time (minutes)<br>{{ form.cook_time }}<br><br>
    Servings<br>{{ form.servings }}<br><br>
    Directions<br>{{ form.directions }}<br><br>
    URL<br>{{ form.source }}<br><br>
    <input class="btn" type="submit" value="Update &raquo;"/>
</form>
{% endblock %}
{% block navsidebar %}
{% endblock %}
</body>
</html>
